<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
                <meta property="wb:webmaster" content="397a4c282ef1bdba" />
		<meta name="description" content="latticeExtra - Horizon Plot的简单实现 | 技术改变世界">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		<title>latticeExtra - Horizon Plot的简单实现</title>
		<!--[if lte IE 9]><meta http-equiv="refresh" content="0;url=/assets/ie.html"><![endif]-->
		<link rel="shortcut icon" href="/assets/images/favicon.ico" />
		<link rel="stylesheet" type="text/css" href="/assets/stylesheets/style.css">
		<script type="text/javascript">
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-45407331-1']);
			_gaq.push(['_trackPageview']);
			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	"		})();
		</script>
		<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
		<script type="text/x-mathjax-config">
        MathJax.Hub.Config({
        TeX: {equationNumbers: {autoNumber: ["AMS"], useLabelIds: true}},
        "HTML-CSS": {linebreaks: {automatic: true}},
        SVG: {linebreaks: {automatic: true}}
        });
        </script>
        <script type="text/javascript" src="/assets/js/jquery.js"></script>
		<script type="text/javascript" src="/assets/js/jquery.pjax.js"></script>
		<script type="text/javascript" src="/assets/js/script.js"></script>
		<script type="text/javascript" src="/assets/js/pdfobject.js"></script>
		<script type = "text/javascript">
		$(document).ready(function(){
		$("#random").on('click','img',function(){
			$.get("sitemap.xml",function(data){
			var $xml=$(data);
			url=$xml.find("url");
			n = url.size();
			n = getRandom(n);
			position=url.get(n);  
			hello=position.getElementsByTagName("loc")[0].firstChild.nodeValue; 
			location.href=hello;
		})
    
	})
  //随机数发生器
       function getRandom(n){return Math.floor(Math.random()*(n+1))}
})
	</script>
		
	</head>
	<body>
		<nav id="nav">
		    <a id="random" href="#"><img id="profile" src="/assets/images/profile.png" alt="" height="100" width="100"></a>
			<ul id="menu">
				<li id="label1" class="label selected"><span>最新文章</span></li>
				<li id="label2" class="label"><span>机器学习</span></li>
				<li id="label3" class="label"><span>数据可视化</span></li>
				<li id="label4" class="label"><span>数据挖掘</span></li>
				<li id="label5" class="label"><span>其他技术</span></li>
				<li id="label6" class="label"><span>生活随笔</span></li>
				<a id="about" href="/index.html">关于我</a>
			</ul>

		</nav>

		<aside id="sidebar">
			<div id="title_wrap" class="select1">
				<h2 id="title1" class="title">最新文章</h2>
				<h2 id="title2" class="title">机器学习</h2>
				<h2 id="title3" class="title">数据可视化</h2>
				<h2 id="title4" class="title">数据挖掘</h2>
				<h2 id="title5" class="title">其他技术</h2>
				<h2 id="title6" class="title">生活随笔</h2>
			</div>

			<div id="post_list">
			
				<a class="related cate1" href="/2014/03/pdf-insert"><span class="circle_icon"></span>内置pdf<span class="date">Mar 2014</span></a>
			
				<a class="related cate1" href="/2014/03/scrapy-xpath"><span class="circle_icon"></span>Scrapy中Xpath学习小结<span class="date">Mar 2014</span></a>
			
				<a class="related cate1" href="/2014/03/mathjax-github"><span class="circle_icon"></span>在Github中使用MathJax编辑公式<span class="date">Mar 2014</span></a>
			
				<a class="ml cate1" href="/2014/03/distance-similarity"><span class="circle_icon"></span>相似度和距离小结<span class="date">Mar 2014</span></a>
			
				<a class="datamining cate1" href="/2014/03/data-table"><span class="circle_icon"></span>SAC思想探索<span class="date">Mar 2014</span></a>
			
				<a class="datamining cate1" href="/2014/03/python-re-sub"><span class="circle_icon"></span>python正则表达式：re.sub<span class="date">Mar 2014</span></a>
			
				<a class="datamining cate1" href="/2014/03/python-regular-expression"><span class="circle_icon"></span>python正则表达式<span class="date">Mar 2014</span></a>
			
				<a class="datamining cate1" href="/2014/03/install-scrapy"><span class="circle_icon"></span>scrapy初探-安装和简单操作<span class="date">Mar 2014</span></a>
			
				<a class="datamining cate1" href="/2014/02/where-is-data"><span class="circle_icon"></span>数据都去哪儿了<span class="date">Feb 2014</span></a>
			
				<a class="related cate1" href="/2014/02/douban"><span class="circle_icon"></span>烟波至爽，数据为王<span class="date">Feb 2014</span></a>
			
				<a class="life cate1" href="/2013/12/happy-new-year"><span class="circle_icon"></span>Happy New Year<span class="date">Dec 2013</span></a>
			
				<a class="datavis cate1" href="/2013/11/ggplot2-2d-density"><span class="circle_icon"></span>ggplot2 - 二维数据密度图<span class="date">Nov 2013</span></a>
			
				<a class="datavis cate1" href="/2013/10/horizon-lattice-extra"><span class="circle_icon"></span>latticeExtra - Horizon Plot的简单实现<span class="date">Oct 2013</span></a>
			
				<a class="datavis cate1" href="/2013/10/horizon-plot"><span class="circle_icon"></span>Horizon Chart - 惊艳到爆的哲学<span class="date">Oct 2013</span></a>
			
				<a class="datavis cate1" href="/2013/09/Significance-ggplot2"><span class="circle_icon"></span>ggplot2 - 为拟合曲线加置信空间<span class="date">Sep 2013</span></a>
			
				<a class="life cate1" href="/2013/06/mj-memory"><span class="circle_icon"></span>再次纪念MJ<span class="date">Jun 2013</span></a>
			
				<a class="datamining cate1" href="/2013/06/plyr-advanced"><span class="circle_icon"></span>Plyr- 多因子整合<span class="date">Jun 2013</span></a>
			
				<a class="datavis cate1" href="/2013/05/stack-area-ggplot2"><span class="circle_icon"></span>ggplot2 - Stacked Area Graph<span class="date">May 2013</span></a>
			
				<a class="related cate1" href="/2013/05/Sublime-text-2"><span class="circle_icon"></span>Sublime Text 2学习过程<span class="date">May 2013</span></a>
			
				<a class="ml cate1" href="/2013/04/mahout-big-data"><span class="circle_icon"></span>Mahout简单部署备忘<span class="date">Apr 2013</span></a>
			
				<a class="datavis cate1" href="/2013/04/Wilkinson-Dot-Plot"><span class="circle_icon"></span>ggplot2 - Wilkinson Dot Plot<span class="date">Apr 2013</span></a>
			
				<a class="datavis cate1" href="/2013/04/heat-map"><span class="circle_icon"></span>ggplot2 - Heat Map<span class="date">Apr 2013</span></a>
			
				<a class="datavis cate1" href="/2013/04/cleveland-Dotplot"><span class="circle_icon"></span>ggplot2 - Cleveland Dot Plot<span class="date">Apr 2013</span></a>
			
				<a class="datavis cate1" href="/2013/04/ggplot2-line-graph"><span class="circle_icon"></span>ggplot2 - Line Graph<span class="date">Apr 2013</span></a>
			
				<a class="datamining cate1" href="/2013/03/plyr-dataming"><span class="circle_icon"></span>Plyr- 数据整合利器<span class="date">Mar 2013</span></a>
			
				<a class="datavis cate1" href="/2013/02/ggplot2-histogram"><span class="circle_icon"></span>ggplot2 - Histogram<span class="date">Feb 2013</span></a>
			
				<a class="datamining cate1" href="/2013/02/reshape-advanced"><span class="circle_icon"></span>R - Reshape Package II<span class="date">Feb 2013</span></a>
			
				<a class="datamining cate1" href="/2013/02/reshape-basic"><span class="circle_icon"></span>R - Reshape2 Package<span class="date">Feb 2013</span></a>
			
				<a class="related cate1" href="/2013/02/hadoop-hive"><span class="circle_icon"></span>大数据体验之Hadoop, Rhadoop, 和Hive<span class="date">Feb 2013</span></a>
			
				<a class="datavis cate1" href="/2013/02/ggplot2-bar-chart"><span class="circle_icon"></span>ggplot2 - Barchart<span class="date">Feb 2013</span></a>
			
				<a class="datavis cate1" href="/2013/01/intro-ggplot2"><span class="circle_icon"></span>ggplot2 - 作图哲学<span class="date">Jan 2013</span></a>
			
				<a class="datavis cate1" href="/2013/01/welcome-ggplot2"><span class="circle_icon"></span>ggplot2 - Welcome!<span class="date">Jan 2013</span></a>
			
				<a class="life cate1" href="/2012/08/story-vision"><span class="circle_icon"></span>自己的视角，别人的故事<span class="date">Aug 2012</span></a>
			
				<a class="life cate1" href="/2012/06/memorize-michael-jackson"><span class="circle_icon"></span>纪念 Michael Jackson - This Is It<span class="date">Jun 2012</span></a>
			
				<a class="life cate1" href="/2012/06/happy-madives"><span class="circle_icon"></span>传说中的马尔代夫<span class="date">Jun 2012</span></a>
			
				<a class="life cate1" href="/2011/03/japan-earthquake"><span class="circle_icon"></span>日本地震杂想<span class="date">Mar 2011</span></a>
			
			</div>
		</aside>

		<div id="container">
			<div id="pjax">
				
				<article id="post">
	<header id="header">
		<h1 id="identifier">latticeExtra - Horizon Plot的简单实现</h1>
		<button id="fullscreen" class="header_icon"></button>
		<button id="fontsize" class="header_icon"></button>
	</header>
	<div id="content">
		<p>上次给大家介绍了一下Horizon Plot的作图哲学，这次我们尝试着用LatticeExtra 这个包来实现以下。</p>

<p>基本代码量不大，不过可以自定义的地方不少。</p>

<p>有关Horizon Plot的作图哲学和一些其它预备知识，请看：<a href="http://yangchao.me/2013/10/horizon-plot">这里</a></p>

<p>文中实现的是按照原作者的Manual中的源代码, 在: <strong><a href="http://latticeextra.r-forge.r-project.org/man/horizonplot.html">这里</a></strong></p>

<p>并对代码进行详细注释。</p>

<div class="highlight"><pre><code class="r">	
 	require<span class="p">(</span>latticeExtra<span class="p">)</span>
	<span class="c1">## 产生数据集</span>
	set.seed<span class="p">(</span><span class="m">1</span><span class="p">)</span>
	dat <span class="o">&lt;-</span> ts<span class="p">(</span>matrix<span class="p">(</span>cumsum<span class="p">(</span>rnorm<span class="p">(</span><span class="m">200</span> <span class="o">*</span> <span class="m">12</span><span class="p">)),</span> ncol <span class="o">=</span> <span class="m">12</span><span class="p">))</span>
	colnames<span class="p">(</span>dat<span class="p">)</span> <span class="o">&lt;-</span> paste<span class="p">(</span><span class="s">&quot;series&quot;</span><span class="p">,</span> LETTERS<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">12</span><span class="p">])</span>
</code></pre></div>

<p>在安装latticeExtra的时候如果遇到问题，请参见一下代码重新安装</p>

<div class="highlight"><pre><code class="r">	
	install.packages<span class="p">(</span><span class="s">&quot;xtsExtra&quot;</span><span class="p">,</span> repos<span class="o">=</span><span class="s">&quot;http://R-Forge.R-project.org&quot;</span><span class="p">)</span> 	
</code></pre></div>

<p>horizon plot是将时间序列的数据可视化。所以我们需要将原来随机出来的数据转变成为随机数列， 用到的就是 <code>ts</code>命令</p>

<p>产生之后的数据是大概是这个样子</p>

<div class="highlight"><pre><code class="r">	
 	head<span class="p">(</span>dat<span class="p">,</span>n<span class="o">=</span><span class="m">20</span><span class="p">)</span>
</code></pre></div>

<pre>

        series A  series B series C series D  series E   series F  series G  series H  series I  series J  series K
 [1,] -0.6264538  7.517331 16.30991 6.529042 -14.14928 -10.513177 -29.42972 -19.38421 -14.69748 -32.70429 -28.79620
 [2,] -0.4428105  9.206204 18.20556 8.031466 -15.97536  -9.401245 -27.50656 -19.20529 -14.68476 -32.12291 -30.71846
 [3,] -1.2784391 10.792793 17.60257 8.559774 -14.98008 -10.272023 -29.36339 -19.48783 -15.55821 -32.26963 -29.09876
 [4,]  0.3168417 10.461885 17.21170 9.101965 -14.99194 -10.061291 -31.46951 -20.25513 -15.21541 -30.76265 -28.57949
 [5,]  0.6463495  8.176649 16.79548 8.965292 -15.59157  -9.991895 -30.77186 -20.83154 -15.39280 -31.04218 -28.63534
 [6,] -0.1741189 10.674311 16.41982 7.828558 -15.76952 -11.654544 -29.86441 -21.74639 -14.47136 -29.01444 -27.93892
 [7,]  0.3133101 11.341377 16.05319 6.331931 -16.19550 -10.843704 -30.06040 -21.37648 -14.17042 -30.21018 -27.88540
 [8,]  1.0516348 11.882704 15.75751 6.108545 -15.19884 -12.756050 -30.26722 -22.84417 -13.47703 -28.89786 -29.19569
 [9,]  1.6274162 11.869305 17.19933 8.110265 -14.47118 -14.002804 -29.54218 -24.58953 -13.15156 -29.42187 -31.31875
[10,]  1.3220278 12.379413 16.50179 8.331968 -16.19781 -13.004649 -28.14346 -25.25691 -12.74351 -29.06762 -31.52683
[11,]  2.8338090 12.215037 16.11363 8.496341 -15.84441 -13.545522 -29.73402 -24.17263 -11.98367 -29.13930 -31.83962
[12,]  3.2236522 12.635732 16.76616 8.828965 -15.11760 -13.761898 -28.42952 -24.04980 -14.27082 -29.27244 -32.89785
[13,]  2.6024116 12.235485 17.89093 8.443757 -14.44934 -15.383835 -28.23351 -24.54405 -13.75298 -29.36052 -32.48063
[14,]  0.3877118 10.865277 17.11882 7.045003 -16.87365 -16.834799 -28.57285 -23.87446 -15.10022 -28.44273 -32.79608
[15,]  1.5126427 11.853116 16.61074 9.720744 -17.10901 -16.483889 -27.30771 -24.22594 -14.73706 -28.41129 -31.97053
[16,]  1.4677091 13.372861 17.13436 9.297058 -15.12938 -16.658436 -26.36793 -24.34092 -13.42231 -27.05236 -30.67926
[17,]  1.4515188 13.064120 18.15211 8.998456 -14.33258 -17.249865 -25.08998 -24.26793 -13.87061 -26.93886 -31.30437
[18,]  2.3953550 11.810830 17.90095 7.206114 -16.04186 -18.583892 -25.38114 -23.17916 -14.67878 -26.76456 -32.17951
[19,]  3.2165762 12.453072 16.47095 6.958106 -17.70553 -19.681190 -24.60497 -21.88659 -14.76505 -26.81804 -32.03616
[20,]  3.8104775 12.408363 18.18008 6.710802 -17.21442 -17.645087 -24.30924 -20.60408 -13.17962 -27.24280 -30.61097
       series L
 [1,] -35.67228
 [2,] -34.86300
 [3,] -35.57462
 [4,] -38.26421
 [5,] -38.83126
 [6,] -37.53206
 [7,] -37.72235
 [8,] -38.36040
 [9,] -40.39578
[10,] -41.00015
[11,] -41.80832
[12,] -42.41509
[13,] -42.32819
[14,] -42.56248
[15,] -41.29996
[16,] -42.86375
[17,] -44.35723
[18,] -45.45436
[19,] -45.48347
[20,] -43.30978

</pre>

<p><br /></p>

<p>我们可以基本认定这个就是一个时间序列的数据了。</p>

<p>因为我们是纯介绍这个Horizon Plot 这个图的作图格式，上面的代码只是模拟产生一个数据集。</p>

<p>首先我们可以将数据简单的可视化一下子。</p>

<div class="highlight"><pre><code class="r">	
 	<span class="c1">## show simple line plot first, for reference.</span>
	xyplot<span class="p">(</span>dat<span class="p">,</span> scales <span class="o">=</span> list<span class="p">(</span>y <span class="o">=</span> <span class="s">&quot;same&quot;</span><span class="p">))</span>
</code></pre></div>

<p><img src="/assets/images/horizon-latticeextra/zvu0wfQ.png" alt="" /></p>

<p>数据的大概变化就是如此吧</p>

<p>下面开始我们的<strong>Horizon Plot</strong></p>

<div class="highlight"><pre><code class="r">	
 	<span class="c1">## 先设定基本的图层设置</span>
	infolayers <span class="o">&lt;-</span>
  	layer<span class="p">(</span>panel.scaleArrow<span class="p">(</span>x <span class="o">=</span> <span class="m">0.99</span><span class="p">,</span> digits <span class="o">=</span> <span class="m">1</span><span class="p">,</span> col <span class="o">=</span> <span class="s">&quot;grey&quot;</span><span class="p">,</span>
                         srt <span class="o">=</span> <span class="m">90</span><span class="p">,</span> cex <span class="o">=</span> <span class="m">0.7</span><span class="p">))</span> <span class="o">+</span>
  	layer<span class="p">(</span>lim <span class="o">&lt;-</span> current.panel.limits<span class="p">(),</span>
        panel.text<span class="p">(</span>lim<span class="o">$</span>x<span class="p">[</span><span class="m">1</span><span class="p">],</span> lim<span class="o">$</span>y<span class="p">[</span><span class="m">1</span><span class="p">],</span> round<span class="p">(</span>lim<span class="o">$</span>y<span class="p">[</span><span class="m">1</span><span class="p">],</span><span class="m">1</span><span class="p">),</span> font <span class="o">=</span> <span class="m">2</span><span class="p">,</span>
                   cex <span class="o">=</span> <span class="m">0.7</span><span class="p">,</span> adj <span class="o">=</span> c<span class="p">(</span><span class="m">-0.5</span><span class="p">,</span><span class="m">-0.5</span><span class="p">),</span> col <span class="o">=</span> <span class="s">&quot;#9FC8DC&quot;</span><span class="p">))</span>
</code></pre></div>

<p>这两个图层的大概意思是</p>

<ul>
  <li>第一个图层： 在右侧画出每个空间，然后箭头</li>
  <li>第二个图层： 计算出每个不同的变量的Horizon Plot中的基准值，并标图形的左边</li>
  <li>有关颜色的编码信息可以参照这个网站，并推荐之。<a href="http://www.colorhexa.com/9fc8dc">颜色信息</a></li>
</ul>

<p>如果大家对基准值的这个概念还不是很熟悉的话，可以快速看看我之前的这篇博客 <a href="http://yangchao.me/2013/10/horizon-plot">《Horizon Chart - 惊艳到爆的哲学》</a></p>

<p>下面我们通过一系列的变通来分别体会下不同的参数的含义。
命令都接近于自然语言，所以有些很显而易见的就不提了。</p>

<p><strong>Case 1</strong>：each panel has a different origin and scale:</p>

<div class="highlight"><pre><code class="r">	
 	<span class="c1">## (&#39;origin&#39; default is the first data value in each series).</span>
	horizonplot<span class="p">(</span>dat<span class="p">,</span> layout <span class="o">=</span> c<span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">12</span><span class="p">),</span> colorkey <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="o">+</span>
  	  infolayers
</code></pre></div>

<p><img src="/assets/images/horizon-latticeextra/2i7atuA.png" alt="" /></p>

<p>短短一行代码，已经把Horizon Plot画出来了。</p>

<ul>
  <li>colorky = TRUE 的意思是最右面是否把表明色阶的注释标出。大家可以试一试如果改成<code>FALSE</code>会怎样</li>
  <li>每一个Panel的初始值和范围变化都是不一样的。</li>
</ul>

<p><strong>Case 2</strong>: fixed scale but different origin (baseline):</p>

<div class="highlight"><pre><code class="r">	
 	<span class="c1">## (similar in concept to scales = &quot;sliced&quot;)</span>
	horizonplot<span class="p">(</span>dat<span class="p">,</span> layout <span class="o">=</span> c<span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">12</span><span class="p">),</span> horizonscale <span class="o">=</span> <span class="m">10</span><span class="p">,</span> colorkey <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="o">+</span>
  	  infolayers
</code></pre></div>

<p><img src="/assets/images/horizon-latticeextra/q3TGAps.png" alt="" /></p>

<ul>
  <li>通过<code>horizonscale=10</code>, 所有的变化范围都变成了相同的值</li>
</ul>

<p><strong>Case 3</strong>: fixed scale and constant origin (all same scales):</p>

<div class="highlight"><pre><code class="r">		
	horizonplot<span class="p">(</span>dat<span class="p">,</span> layout <span class="o">=</span> c<span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">12</span><span class="p">),</span> origin <span class="o">=</span> <span class="m">0</span><span class="p">,</span> horizonscale <span class="o">=</span> <span class="m">10</span><span class="p">,</span> colorkey <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="o">+</span>
      infolayers
</code></pre></div>

<p><img src="/assets/images/horizon-latticeextra/0Rs2hLj.png" alt="" /></p>

<ul>
  <li>通过<code>origin=0</code>把所有的初始值都设为0</li>
</ul>

<p><strong>Case 4</strong>：same scales with full coverage of color scale:</p>

<div class="highlight"><pre><code class="r">		
	horizonplot<span class="p">(</span>dat<span class="p">,</span> layout <span class="o">=</span> c<span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">12</span><span class="p">),</span> origin <span class="o">=</span> <span class="m">0</span><span class="p">,</span>
            scales <span class="o">=</span> list<span class="p">(</span>y <span class="o">=</span> list<span class="p">(</span>relation <span class="o">=</span> <span class="s">&quot;same&quot;</span><span class="p">)),</span>
            colorkey <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> colorkey.digits <span class="o">=</span> <span class="m">1</span><span class="p">)</span> <span class="o">+</span>
      infolayers
</code></pre></div>

<p><img src="/assets/images/horizon-latticeextra/8CwVN62.png" alt="" /></p>

<ul>
  <li>通过<code>scales = list(y = list(relation = "same"))</code>将右边的scales显示为绝对值, 而不是变化值。</li>
</ul>

<p><strong>Case 5</strong>: use ylab rather than strip.left, for readability.</p>

<div class="highlight"><pre><code class="r">		
	horizonplot<span class="p">(</span>dat<span class="p">,</span> horizonscale <span class="o">=</span> <span class="m">10</span><span class="p">,</span> colorkey <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span>
            	layout <span class="o">=</span> c<span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">12</span><span class="p">),</span> strip.left <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span>
            	ylab <span class="o">=</span> list<span class="p">(</span>rev<span class="p">(</span>colnames<span class="p">(</span>dat<span class="p">)),</span> rot <span class="o">=</span> <span class="m">0</span><span class="p">,</span> cex <span class="o">=</span> <span class="m">0.7</span><span class="p">))</span> <span class="o">+</span>
  	  layer_<span class="p">(</span>panel.fill<span class="p">(</span>col <span class="o">=</span> <span class="s">&quot;gray90&quot;</span><span class="p">),</span> panel.xblocks<span class="p">(</span><span class="kc">...</span><span class="p">,</span> col <span class="o">=</span> <span class="s">&quot;white&quot;</span><span class="p">))</span>
</code></pre></div>

<p><img src="/assets/images/horizon-latticeextra/F0tqAw5.png" alt="" /></p>

<ul>
  <li>通过<code>strip.left = FALSE</code>把原来竖起来的图例去掉</li>
  <li>再通过<code>ylab = list(rev(colnames(dat)), rot = 0, cex = 0.7))</code>把原来的加上</li>
</ul>

<p><br /></p>

<p>Horizon Plot基本上常用的就是这一些用法。当然还有不少应用到实际中的，特别是在表现在股票价格变化中的时候，就可以明显感觉它的强大之处。我们会在之后介绍具体的特别应用</p>

<p>相关文章：</p>

<ul>
  <li>
    <p><a href="http://www.colorhexa.com/9fc8dc">颜色信息</a></p>
  </li>
  <li>
    <p><a href="http://latticeextra.r-forge.r-project.org/#segplot&amp;theme=default">LatticeExtra: R Forger</a></p>
  </li>
  <li><a href="http://cran.r-project.org/web/packages/latticeExtra/latticeExtra.pdf">官方Manual</a></li>
  <li>文中代码和图片在: <a href="http://pan.baidu.com/s/1DvW29">这里</a></li>
</ul>

		
		<div id="donation">
		<b><a href="https://me.alipay.com/bigchao"></a>请我喝一杯</b>
		</div>
		<div id="social">
		    <a id="weibo" href="http://v.t.sina.com.cn/share/share.php?url=http://yangchao.me/2013/10/horizon-lattice-extra&title=latticeExtra - Horizon Plot的简单实现"></a>
			<a id="twitter" href="https://twitter.com/intent/tweet?url=http://yangchao.me/2013/10/horizon-lattice-extra&text=latticeExtra - Horizon Plot的简单实现"></a>
			<a id="end_cc" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/"></a>
		</div>
	</div>
</article>

<div id="disqus_thread"></div>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink" target="_blank">Loading Disqus comments...</a>



			</div>
		</div>

		<div id="notice">左右滑动</div>
		
		
		
		
	</body>
</html>
